var e=Object.assign;import{r as t,o,c as n,a,d as r,i as s,w as i,v as l,F as u,b as g,T as c,e as d,t as m,f as p,g as h,h as f,j as x,k as w,l as y}from"./vendor.7a080991.js";!function(e=".",t="__import__"){try{self[t]=new Function("u","return import(u)")}catch(o){const n=new URL(e,location),a=e=>{URL.revokeObjectURL(e.src),e.remove()};self[t]=e=>new Promise(((o,r)=>{const s=new URL(e,n);if(self[t].moduleMap[s])return o(self[t].moduleMap[s]);const i=new Blob([`import * as m from '${s}';`,`${t}.moduleMap['${s}']=m;`],{type:"text/javascript"}),l=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(i),onerror(){r(new Error(`Failed to import: ${e}`)),a(l)},onload(){o(self[t].moduleMap[s]),a(l)}});document.head.appendChild(l)})),self[t].moduleMap={}}}("assets/");const b={};b.render=function(e,r){const s=t("router-view");return o(),n("div",null,[a(s)])};const v=r({data:()=>({value:"",tips:!1,isExactActive:0,showProfileMenu:!1,links:[{text:"英文",to:"en"},{text:"中文",to:"zh-cn"}]}),computed:e({},s.mapState(["translateResult","result"])),mounted(){let e=this;document.onkeydown=function(t){var o=t.keyCode||t.which||t.charCode,n=t.ctrlKey||t.metaKey;return n&&49==o?(e.copy(),!1):n&&83==o?(e.getTrans(this.isExactActive),!1):void 0},utools&&utools.setSubInput((({text:e})=>{this.value=e,e&&setTimeout((()=>{this.getTrans(this.isExactActive)}),500)}),"翻译")},watch:{value(e){}},methods:{getTrans(e=this.isExactActive,t={text:"英文",to:"en"}){this.isExactActive=e,localStorage.setItem("language",t.to),this.value&&(this.$store.commit("setKeyword",this.value),this.$store.commit("setWebLanguage",t.to),this.translate())},translate(){this.$store.dispatch("WEB_TRANSLATE_KEYWORD",this.value).catch((()=>{}))},open(e){window.openExternal(e)},copy(){this.getValue(),utools&&utools.copyText(this.res.text)},getValue(){this.tips=!0;const e=document.createElement("textarea");e.readOnly="readonly",e.style.position="absolute",e.style.left="-9999px",e.value="",e.value=this.result.text,document.body.appendChild(e),e.select();document.execCommand("Copy")&&console.log("复制成功"),setTimeout((()=>{this.tips=!1}),800)}}}),L={class:"bg-gray-800"},S={class:"max-w-screen-xl mx-auto px-4 sm:px-4 lg:px-6"},k={class:"flex items-center justify-between h-12"},T={class:"flex items-center"},C={class:"md:block"},E={class:"ml-10 flex items-baseline"},K={class:"md:block"},A={class:"ml-4 flex items-center md:ml-6"},O={class:"ml-3 relative"},R=a("img",{class:"h-8 w-8 rounded-full",src:"https://www.jixiaokang.com/medias/avatar.jpg",alt:""},null,-1),_={key:0,class:"\n                    origin-top-right\n                    absolute\n                    right-0\n                    mt-2\n                    w-48\n                    rounded-md\n                    shadow-lg\n                  "},M=a("div",{class:"\n                      py-1\n                      rounded-md\n                      bg-white\n                      ring-1 ring-black ring-opacity-5\n                    ",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu"},[a("a",{href:"#",class:"\n                        block\n                        px-4\n                        py-2\n                        text-sm text-gray-700\n                        hover:bg-gray-100\n                      ",role:"menuitem"},"Your Profile"),a("a",{href:"#",class:"\n                        block\n                        px-4\n                        py-2\n                        text-sm text-gray-700\n                        hover:bg-gray-100\n                      ",role:"menuitem"},"Settings"),a("a",{href:"#",class:"\n                        block\n                        px-4\n                        py-2\n                        text-sm text-gray-700\n                        hover:bg-gray-100\n                      ",role:"menuitem"},"Sign out")],-1),j={key:0,class:"bg-white shadow"},G={class:"font-bold leading-tight text-gray-900"},U={key:1,class:"\n      fixed\n      right-1\n      top-1\n      animate-pulse\n      flex\n      w-full\n      max-w-xs\n      mx-auto\n      overflow-hidden\n      bg-white\n      rounded-lg\n      shadow-md\n      dark:bg-gray-800\n    "},$=a("div",{class:"flex items-center justify-center w-12 bg-green-500"},[a("svg",{class:"w-6 h-6 text-white fill-current",viewBox:"0 0 40 40",xmlns:"http://www.w3.org/2000/svg"},[a("path",{d:"M20 3.33331C10.8 3.33331 3.33337 10.8 3.33337 20C3.33337 29.2 10.8 36.6666 20 36.6666C29.2 36.6666 36.6667 29.2 36.6667 20C36.6667 10.8 29.2 3.33331 20 3.33331ZM16.6667 28.3333L8.33337 20L10.6834 17.65L16.6667 23.6166L29.3167 10.9666L31.6667 13.3333L16.6667 28.3333Z"})])],-1),N=a("div",{class:"px-4 py-2 -mx-3"},[a("div",{class:"mx-3"},[a("span",{class:"font-semibold text-green-500 dark:text-green-400"},"成功"),a("p",{class:"text-sm text-gray-600 dark:text-gray-200"},"您已经复制成功!")])],-1);v.render=function(e,t,r,s,h,f){return o(),n(u,null,[a("main",null,[a("div",null,[i(a("textarea",{rows:"10",class:"\n          shadow-sm\n          focus:ring-indigo-500\n          focus-visible:ring-indigo-500\n          focus:border-indigo-500\n          focus-visible:border-indigo-500\n          focus:outline-none\n          focus:ring-2 focus:ring-purple-600\n          focus:border-transparent\n          block\n          w-full\n          sm:text-sm\n          border border-gray-300\n          rounded-md\n        ","onUpdate:modelValue":t[1]||(t[1]=t=>e.value=t),onClick:t[2]||(t[2]=t=>e.getTrans()),placeholder:"翻译的内容"},null,512),[[l,e.value]])])]),a("nav",L,[a("div",S,[a("div",k,[a("div",T,[a("div",C,[a("div",E,[(o(!0),n(u,null,g(e.links,((t,r)=>(o(),n("div",{key:r,custom:""},[a("a",{onClick:o=>e.getTrans(r,t),class:["\n                    px-5\n                    py-2\n                    rounded-md\n                    text-sm\n                    font-medium\n                    cursor-pointer\n                  ",[e.isExactActive===r?"text-white bg-purple-600 focus:outline-none focus:text-white focus:bg-gray-700":"text-gray-300 hover:text-white hover:bg-gray-700 focus:outline-none focus:text-white focus:bg-gray-700",r>0&&"ml-4"]]},m(t.text),11,["onClick"])])))),128))])])]),a("div",K,[a("div",A,[a("div",O,[a("div",null,[a("button",{class:"\n                    max-w-xs\n                    flex\n                    items-center\n                    text-sm\n                    rounded-full\n                    text-white\n                    focus:outline-none\n                    focus:shadow-solid\n                  ",id:"user-menu","aria-label":"User menu","aria-haspopup":"true",onClick:t[3]||(t[3]=t=>e.open("https://github.com/xkloveme/utools-translate"))},[R])]),a(c,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:d((()=>[e.showProfileMenu?(o(),n("div",_,[M])):p("",!0)])),_:1})])])])])])]),e.result.text?(o(),n("header",j,[a("div",{class:"max-w-screen-xl mx-auto py-6 px-4 sm:px-6 lg:px-8 cursor-pointer",onClick:t[5]||(t[5]=(...t)=>e.copy&&e.copy(...t))},[a("button",{class:"\n          px-1\n          float-right\n          inline-block\n          rounded-md\n          border border-gray-300\n          focus:outline-none\n          focus:ring-2 focus:ring-purple-600\n          font-bold\n          leading-tight\n          text-gray-900\n        ",type:"button",onClick:t[4]||(t[4]=(...t)=>e.copy&&e.copy(...t))}," ⌘ + 1 "),a("h1",G,m(e.result.text),1)])])):p("",!0),e.tips?(o(),n("div",U,[$,N])):p("",!0)],64)};const Y={},P=h('<div class="px-4 py-6 sm:px-0 mt-10 sm:mt-12 sm:px-6 md:mt-16 lg:mt-20 lg:px-8 xl:mt-28"><div class="sm:text-center lg:text-left"><h2 class="text-4xl tracking-tight leading-10 font-extrabold text-gray-900 sm:text-5xl sm:leading-none md:text-6xl"> This demo is using <br class="xl:hidden"><a target="_blank" class="text-indigo-600 underline hover:text-indigo-500" href="https://tailwindcss.com">Tailwind CSS</a></h2><p class="mt-3 text-base text-gray-500 sm:mt-5 sm:text-lg sm:max-w-xl sm:mx-auto md:mt-5 md:text-xl lg:mx-0"> All the code present here is part of a free sample from <a href="https://tailwindui.com" class="text-indigo-600 underline hover:text-indigo-500">Tailwind UI</a> but, you don&#39;t need it. If you want to add <b>Tailwind UI </b> check the instructions on <a class="text-indigo-600 underline hover:text-indigo-500" href="https://github.com/posva/vite-tailwind-starter/tree/master#vite--tailwind-css-starter"><code>README</code></a>. It only takes two steps to add it 🙂. </p><div class="mt-5 sm:mt-8 sm:flex sm:justify-center lg:justify-start"><div class="rounded-md shadow"><a href="https://github.com/posva/vite-tailwind-starter" class="w-full flex items-center justify-center px-8 py-3 border border-transparent text-base leading-6 font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-500 focus:outline-none focus:ring transition duration-150 ease-in-out md:py-4 md:text-lg md:px-10"> Get started </a></div><div class="mt-3 sm:mt-0 sm:ml-3"><a href="#" class="w-full flex items-center justify-center px-8 py-3 border border-transparent text-base leading-6 font-medium rounded-md text-indigo-700 bg-indigo-100 hover:text-indigo-600 hover:bg-indigo-50 focus:outline-none focus:ring focus:border-indigo-300 transition duration-150 ease-in-out md:py-4 md:text-lg md:px-10"> Live demo </a></div></div></div></div>',1);Y.render=function(e,t){return o(),n("main",null,[P])};let D=[{path:"/",component:v,meta:{title:"Home"}},{path:"/about",component:Y,meta:{title:"About"}},{path:"/:path(.*)",component:v}];var F=F||chrome;const W=e=>{if(e.status>=200&&e.status<300)return e;const t=new Error(e.statusText);throw t.response=e,t},I=e=>(e&&e.url||console.log("option need object type or object.url key not pass"),new Promise(((t,o)=>{const{url:n,type:a="text",params:r={}}=e;if(n)return fetch(n,r).then(W).then((e=>{switch(a){case"text":return e.text();case"json":return e.json();case"arrayBuffer":return e.arrayBuffer()}})).then((e=>"arrayBuffer"===a?JSON.stringify(Array.apply(null,new Uint8Array(e))):e)).then((e=>{t(e)})).catch((e=>{o(e)})),!0})).then((t=>"arrayBuffer"===e.type?new Uint8Array(JSON.parse(t)).buffer:t)));F.windows;const B=e=>{let t=e.replace(/\[,/g,"[null,");return t=t.replace(/,\]/g,",null]"),t=t.replace(/,{2,}/g,(e=>e.split("").join("null"))),JSON.parse(t)},H=()=>{let e=localStorage.getItem("language")||"en";return"en"===e.slice(0,2)&&(e="en"),e=e.replace(/_/g,"-"),e};const q="https://translate.google.cn",J="https://translate.google.com",V=(e,t)=>{let o=`${e.host}/translate_a/single?client=${t?"at":"t"}&dt=at&dt=bd&dt=ex&dt=ld&dt=md&dt=qca&dt=rw&dt=rm&dt=ss&dt=t&ie=UTF-8&oe=UTF-8&source=btn&rom=1&srcrom=1&ssel=0&tsel=0&kc=0`;return o+=`&sl=${e.fromLanguage}&tl=${e.toLanguage}&hl=${e.webLanguage}&tk=${e.tk}&q=${encodeURIComponent(e.keyword)}`,o},Z=(e,t)=>{let o=`${e.host}/translate_tts?ie=UTF-8&total=1&idx=0&client=${t?"at":"t"}&prev=input`;return o+=`&textlen=${e.keyword.length}&tl=${e.toLanguage}&tk=${e.tk}&q=${encodeURIComponent(e.keyword)}&ttsspeed=${e.speed}`,o};let z=null,Q=e=>()=>e,X=(e,t)=>{for(var o=0;o<t.length-2;o+=3){var n="a"<=(n=t.charAt(o+2))?n.charCodeAt(0)-87:Number(n);n="+"==t.charAt(o+1)?e>>>n:e<<n;e="+"==t.charAt(o)?e+n&4294967295:e^n}return e};const ee=e=>{let t=(e=>{var t;if(null!==z)t=z;else{t=Q(String.fromCharCode(84));var o=Q(String.fromCharCode(75));(t=[t(),t()])[1]=o(),t=(z=window[t.join(o())]||"")||""}var n=Q(String.fromCharCode(116));o=Q(String.fromCharCode(107)),(n=[n(),n()])[1]=o(),o="&"+n.join("")+"=",n=t.split("."),t=Number(n[0])||0;for(var a=[],r=0,s=0;s<e.length;s++){var i=e.charCodeAt(s);128>i?a[r++]=i:(2048>i?a[r++]=i>>6|192:(55296==(64512&i)&&s+1<e.length&&56320==(64512&e.charCodeAt(s+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++s)),a[r++]=i>>18|240,a[r++]=i>>12&63|128):a[r++]=i>>12|224,a[r++]=i>>6&63|128),a[r++]=63&i|128)}for(e=t,r=0;r<a.length;r++)e+=a[r],e=X(e,"+-a^+6");return e=X(e,"+-3^+b+-f"),0>(e^=Number(n[1])||0)&&(e=2147483648+(2147483647&e)),o+((e%=1e6).toString()+".")+(e^t)})(e);return t=t.replace("&tk=",""),t};console.log("production",88);var te=f({state:{keyword:"",fromLanguage:"auto",autoFromLanguage:"",toLanguage:localStorage.getItem("language")||H(),languageLists:[],googleHost:q,googleTKK:"",completeList:[],translateResult:{keyword:"",phonetic:"",translateList:[],definition:[],synonym:[],example:""},isShowMore:!1,tryCount:1,speed:1,userSetting:{webLanguage:localStorage.getItem("language")||H(),doubleClick:!0,stroke:!0,pressKey:!0,pressKeyString:"Control",hover:!1,hoverTime:1,autoSound:!1,audioSource:null,bgColor:"#ffffff"},result:{text:"",from:{language:{didYouMean:!1,iso:""},text:{autoCorrected:!1,value:"",didYouMean:!1}},raw:""}},mutations:{reset(e){e.keyword="",e.tryCount=1,e.translateResult={keyword:"",phonetic:"",translateList:[],definition:[],synonym:[],example:""},e.isShowMore=!1,e.completeList=[]},setKeyword(e,t){e.speed=1,e.isShowMore=!1;const o=t||"";e.keyword=o.trim()},setGoogleTKK(e,t){e.googleTKK=t},setIsShowMore(e,t){e.isShowMore=t},setFromLanguage(e,t){e.fromLanguage=t,browser.storage.local.set({fromLanguage:t})},setToLanguage(e,t){e.toLanguage=t,browser.storage.local.set({toLanguage:t})},setWebLanguage(e,t){e.userSetting.webLanguage=t},setDoubleClick(e,t){e.userSetting.doubleClick=t},setStroke(e,t){e.userSetting.stroke=t},setHover(e,t){e.userSetting.hover=t},setHoverTime(e,t){e.userSetting.hoverTime=t},setPressKey(e,t){e.userSetting.pressKey=t},setPressKeyString(e,t){e.userSetting.pressKeyString=t},setAutoSound(e,t){e.userSetting.autoSound=t},setBgColor(e,t){e.userSetting.bgColor=t},setResult(e,t){e.result=t},stopSound(e){e.audioSource&&e.audioSource.stop()}},actions:{SYNC_USER_SETTING({state:e}){browser.storage.local.get("googleTKK",(({googleTKK:t})=>{t&&t.value&&t.expire>Date.now()&&(e.googleTKK=t.value,window.TKK=t.value)})),browser.storage.local.get("fromLanguage",(({fromLanguage:t})=>{t&&(e.fromLanguage=t)})),browser.storage.local.get("toLanguage",(({toLanguage:t})=>{t&&(e.toLanguage=t)})),browser.storage.local.get("userSetting",(({userSetting:t})=>{t&&(e.userSetting=Object.assign(e.userSetting,t))}))},CHOOSE_LANGUAGE({commit:e},{type:t,value:o}){"from"===t?e("setFromLanguage",o):"to"===t?e("setToLanguage",o):"web"===t&&e("setWebLanguage",o)},GET_GOOGLE_HTML:()=>Promise.race([I({url:q,type:"text"}).then((e=>({html:e,host:q}))),I({url:J,type:"text"}).then((e=>({html:e,host:J})))]),AUTO_COMPLETE({state:e}){e.keyword&&~["auto","en"].indexOf(e.fromLanguage)&&(console.log(e.keyword,e.fromLanguage,99),(e=>{const t=`https://clients1.google.cn/complete/search?q=${e.keyword}&client=translate-web&ds=translate&hl=en`;return I({url:t,type:"text"})})({webLanguage:e.userSetting.webLanguage,keyword:e.keyword}).then((t=>{console.log("🐛 ~ file: index.js ~ line 188 ~ AUTO_COMPLETE ~ response",t);try{const o=JSON.parse(t.slice(19,-1))[1];e.completeList=o.map((e=>e[0]))}catch(o){e.completeList=[]}})).catch((()=>{e.completeList=[]})))},WEB_TRANSLATE_KEYWORD:({state:e,commit:t,dispatch:o},n)=>(t("setKeyword",n),e.tryCount=1,o("TRANSLATE_KEYWORD",{fromLanguage:"auto",toLanguage:e.userSetting.webLanguage})),TRANSLATE_KEYWORD:({state:e,commit:t,dispatch:o},{fromLanguage:n,toLanguage:a,stop:r}={})=>e.keyword?new Promise(((s,i)=>{if(e.tryCount<0)return i();e.tryCount--,o("GET_GOOGLE_TK",e.keyword).then((l=>{var u;console.log("888",l),(u={tk:l,host:e.googleHost,fromLanguage:n||e.fromLanguage,toLanguage:a||e.toLanguage,webLanguage:e.userSetting.webLanguage,keyword:e.keyword},Promise.race([I({url:V(u,!0),type:"text"}),I({url:V(u),type:"text"})])).then(B).then((a=>{t("setResult",function(e,t){const o={text:"",from:{language:{didYouMean:!1,iso:""},text:{autoCorrected:!1,value:"",didYouMean:!1}},raw:""};t&&t.raw&&(o.raw=e);const n=e;if(n[0].forEach((function(e){null!==e[0]&&(o.text+=e[0])})),n[2]===n[8][0][0]?o.from.language.iso=n[2]:(o.from.language.didYouMean=!0,o.from.language.iso=n[8][0][0]),n[5]&&n[5][0]&&n[5][0][0]){let e=n[5][0][0];e=e.replace(/<b><i>/g,"["),e=e.replace(/<\/i><\/b>/g,"]"),o.from.text.value=e,1===n[5][0][5]?o.from.text.autoCorrected=!0:o.from.text.didYouMean=!0}return o}(a)),e.tryCount=1;const l={keyword:"",phonetic:"",translateList:[],definition:[],synonym:[],example:""};let u="",g="";if(a[2]){if(n||a[2]!==e.toLanguage){if(!r&&n&&"en"!==a[2]&&a[2]===e.userSetting.webLanguage)return o("TRANSLATE_KEYWORD",{fromLanguage:"auto",toLanguage:"en",stop:!0}).then(s,i)}else{if(a[2]!==e.userSetting.webLanguage)return t("setToLanguage",e.userSetting.webLanguage),o("TRANSLATE_KEYWORD").then(s,i);if(e.autoFromLanguage&&a[2]!==e.autoFromLanguage)return t("setToLanguage",e.autoFromLanguage),o("TRANSLATE_KEYWORD").then(s,i);if("en"!==a[2])return t("setToLanguage","en"),o("TRANSLATE_KEYWORD").then(s,i)}e.autoFromLanguage=a[2]}if(e.userSetting.autoSound&&o("GOOGLE_SOUND"),a[0]){for(let e=0,t=a[0].length;e<t;e++)e===t-1&&e>0?a[0][e]&&a[0][e][3]&&(l.phonetic=a[0][e][3]):(a[1]?l.translateList=a[1]:a[0][e]&&a[0][e][0]&&(g+=a[0][e][0]),a[0][e]&&a[0][e][1]&&(u+=a[0][e][1]));g&&(g=(e=>{let t=e;return t=t.replace(/&/g,"&amp;"),t=t.replace(/</g,"&lt;"),t=t.replace(/>/g,"&gt;"),t})(g),g=g.replace(/\n/g,"<br />"),l.translateList=[["",[g]]]),a[12]&&(l.definition=a[12]),a[11]&&(l.synonym=a[11]),a[13]&&(l.example=a[13][0]&&a[13][0][0]&&a[13][0][0][0]),l.keyword=u,e.translateResult=l}s()})).catch((()=>{t("setGoogleTKK",""),o("TRANSLATE_KEYWORD").catch((()=>{}))}))})).catch((()=>{}))})):(t("reset"),Promise.reject()),GOOGLE_SOUND({state:e,commit:t,dispatch:o}){t("stopSound"),o("GET_GOOGLE_TK",e.keyword).then((t=>{var o;(o={tk:t,host:e.googleHost,toLanguage:e.autoFromLanguage||"en",keyword:e.keyword,speed:e.speed},Promise.race([I({url:Z(o,!0),type:"arrayBuffer"}),I({url:Z(o),type:"arrayBuffer"})])).then((t=>{const o=new(window.AudioContext||window.webkitAudioContext);o.decodeAudioData(t).then((t=>{e.audioSource=o.createBufferSource(),e.audioSource.buffer=t,e.audioSource.connect(o.destination),e.audioSource.start(0)}))})),e.speed=1===e.speed?.24:1})).catch((()=>{}))},GET_GOOGLE_TK({state:e,commit:t},o){if(e.googleTKK)return Promise.resolve(ee(o));const n=["435819.1958473774","434674.96463358"];if(window.TKK=n[Math.floor(Math.random()*n.length)],void 0!==window.TKK){t("setGoogleTKK",window.TKK);return ee(o)}}}});let oe=x(b),ne=w({history:y(),routes:D});oe.use(ne),oe.use(te),window.utools?window.utools.onPluginReady((()=>{console.log("插件装配完成，已准备好"),oe.mount("#app")})):(window.utools=null,oe.mount("#app"));
